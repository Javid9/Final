<!-- search start -->
@*<div class="container">
    <div class="home-form-position">
        <div class="row justify-content-center">
            <div class="col-lg-12">
                <div class="home-registration-form bg-white job-list-reg-form p-4 mb-3">
                    <form class="registration-form">
                        <div class="row">
                            <div class="col-lg-4 col-md-6">
                                <div class="registration-form-box">
                                    <i class="fa fa-briefcase"></i>
                                    <input type="text" id="keywordInput" class="form-control registration-input-box" placeholder="Job keybords...">
                                </div>
                            </div>
                            <div class="col-lg-4 col-md-6">
                                <div class="registration-form-box">
                                    <i class="fa fa-list-alt"></i>
                                    <select id="select-category" class="demo-default" placeholder="Categories...">
                                        <option value="">Categories...</option>
                                        @foreach (var item in ViewBag.Category)
                                        {
                                            <option value="@item.Id>">@item.CategoryName</option>
                                        }
                                    </select>
                                </div>
                            </div>
                            <div class="col-lg-3 col-md-6">
                                <div class="registration-form-box">
                                    <input type="submit" id="searchBtn"  class="submitBnt btn btn-custom btn-block" value="Submit">
                                </div>
                            </div>
                        </div>
                    </form>
                </div>
            </div>
        </div>
    </div>
</div>*@
<!-- search end -->



@*<section id="main">

</section>


@section Scripts
    {
    <script src="https://cdn.jsdelivr.net/npm/axios/dist/axios.min.js"></script>
    <script src="https://unpkg.com/axios/dist/axios.min.js"></script>
    <script src="https://code.jquery.com/jquery-3.5.1.min.js"></script>
    <script>
        let keywordInput = document.getElementById('keywordInput');
        let selectCategory = document.getElementById('select-category');
        let searchBtn = document.getElementById('searchBtn');

        searchBtn.addEventListener("click", function () {
            alert("yes");
        })

        searchBtn.addEventListener('click', function () {
            let formData = new FormData();
            formData.append("keyword", keywordInput.value);
            formData.append("categoryId", selectCategory.value);
            axios.post('/Home/Search', formData)
                .then(function (response) {
                    console.log(response.data);
                    $.each(response.data, function (index, element) {
                        console.log(element);
                     var main = $('#main').append(
                            `
                            <div class="p-3">
                                <div class="row align-items-center">
                                    <div class="col-lg-4">
                                        <div class="company-logo-img">
                                            <img src="${"images/" + element.image}" alt="" class="img-fluid mx-auto d-block">
                                        </div>
                                    </div>
                                    <div class="col-lg-7 col-md-9">
                                        <div class="job-list-desc">
                                            <h5 class="mb-2"><a href="#" class="text-dark">Title: ${element.title}</a></h5>
                                            <p class="text-muted mb-0">Category: <b>${element.category}</b> </p>
                                            <p class="text-muted mb-0"><i class="mdi mdi-bank mr-2"></i>${element.city}</p>
                                            <ul class="list-inline mb-0">
                                                <li class="list-inline-item mr-3">
                                                    <p class="text-muted mb-0"><i class="mdi mdi-map-marker mr-2"></i>${element.country}</p>
                                                    <p class="text-muted mb-0">Email: ${element.email}</p>
                                                    <p class="text-muted mb-0">Description: ${element.description}</p>
                                                    <p class="text-muted mb-0">Experience: ${element.experience}</p>
                                                    <p class="text-muted mb-0">Minx Salary: ${element.minSalary}</p>
                                                    <p class="text-muted mb-0">Max Salary: ${element.maxSalary}</p>
                                                    <p class="text-muted mb-0">User Name: ${element.appUser}</p>

                                                    </li>

                                                    <li class="list-inline-item">
                                                        <p class="text-muted mb-0"><i class="mdi mdi-clock-outline mr-2"></i>8 days ago </p>
                                                    </li>
                                                </ul>
                                            </div>
                                        </div>
                                    </div>
                                </div>
                            `
                        )

                    });

                    //$(this).remove();
                    })

                    .catch(function (error) {
                        if (error.response) {
                            let errorObj = error.response.data;
                            for (let errors in errorObj) {
                                let error = errorObj[errors];
                                console.log(error);
                            }
                        }
                    });

            })

    </script>
}*@